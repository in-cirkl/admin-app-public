(this["webpackJsonpadmin-app"]=this["webpackJsonpadmin-app"]||[]).push([[1],{61:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=61},62:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=62},63:function(e,t,n){var c={"./ion-icon.entry.js":[97,12]};function i(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],i=t[0];return n.e(t[1]).then((function(){return n(i)}))}i.keys=function(){return Object.keys(c)},i.id=63,e.exports=i},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var c=n(5),i=n.n(c),s=n(37),a=n.n(s),r=n(14),o=n(6),j=n(52),l=n(20),d=n(15),b=n(27);function O(e,t){var n=Object(c.useState)((function(){try{var n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(c){return console.log(c),t}})),i=Object(r.a)(n,2),s=i[0],a=i[1];return[s,function(t){try{var n=t instanceof Function?t(s):t;a(n),window.localStorage.setItem(e,JSON.stringify(n))}catch(c){console.log(c)}}]}var u,h=n(24),x=n(3),p=function(e){var t=Object.assign({},e),n=Object(b.b)().loginWithPopup;return Object(x.jsxs)(o.d,Object(d.a)(Object(d.a)({},t),{},{onClick:function(){return n()},children:[Object(x.jsx)(o.l,{slot:"start",icon:h.d}),"Log In"]}))},m=(n(79),function(){Object(l.f)().name;return Object(x.jsxs)(o.x,{children:[Object(x.jsx)(o.k,{children:Object(x.jsxs)(o.I,{children:[Object(x.jsx)(o.e,{slot:"start",children:Object(x.jsx)(o.u,{})}),Object(x.jsx)(o.H,{children:"Home"})]})}),Object(x.jsxs)(o.g,{fullscreen:!0,children:[Object(x.jsx)(o.k,{collapse:"condense",children:Object(x.jsx)(o.I,{children:Object(x.jsx)(o.H,{size:"large",children:"Home"})})}),Object(x.jsx)(o.B,{class:"ion-padding",children:Object(x.jsx)(o.f,{class:"ion-text-center",children:"Home Page Content"})}),Object(x.jsx)(o.B,{class:"ion-padding",children:Object(x.jsx)(o.f,{class:"ion-text-center",children:Object(x.jsx)(o.m,{src:"".concat("/admin-app-public","/assets/icons/icon-72x72.png")})})}),Object(x.jsx)(o.B,{class:"ion-padding",children:Object(x.jsx)(o.f,{class:"ion-text-center",children:Object(x.jsx)(p,{})})})]})]})}),g=function(e){var t=Object.assign({},e),n=O("introDisplayed",!1);Object(r.a)(n,1)[0];return Object(x.jsx)(l.b,Object(d.a)(Object(d.a)({},t),{},{children:Object(x.jsx)(m,{})}))},f=function(e){var t=Object.assign({},e),n=Object(b.b)().isAuthenticated;return Object(x.jsx)(l.b,Object(d.a)(Object(d.a)({},t),{},{children:n?Object(x.jsx)(l.a,{to:"/dashboard"}):Object(x.jsx)(g,{})}))},v=(n(80),function(e){var t=e.className;return Object(x.jsx)("div",{className:"ion-text-center ".concat(t),children:Object(x.jsxs)(o.w,{children:["v","0.0.2"]})})}),C=[{title:"Dashboard",url:"/dashboard",iosIcon:h.b,mdIcon:h.c},{title:"Campaigns",url:"/campaigns",iosIcon:h.g,mdIcon:h.h},{title:"Audience",url:"/audience",iosIcon:h.i,mdIcon:h.j},{title:"Components",url:"/components",iosIcon:h.m,mdIcon:h.n},{title:"Integrations",url:"/integrations",iosIcon:h.o,mdIcon:h.p}],D=[{title:"Settings",url:"/settings",iosIcon:h.k,mdIcon:h.l}],w=function(){var e=Object(l.e)(),t=Object(b.b)(),n=t.logout,c=t.isAuthenticated,i=t.user,s=c?Object(x.jsx)(o.v,{autoHide:!1,children:Object(x.jsxs)(o.o,{lines:"none",onClick:function(){return n({returnTo:window.location.href})},children:[Object(x.jsx)(o.l,{slot:"start",ios:h.e,md:h.f}),Object(x.jsx)(o.r,{children:"Log Out"})]})}):null;return Object(x.jsxs)(o.t,{contentId:"main",type:"overlay",children:[Object(x.jsxs)(o.I,{children:[Object(x.jsx)(o.b,{slot:"start",class:"ion-margin",children:Object(x.jsx)("img",{src:null===i||void 0===i?void 0:i.picture,alt:null===i||void 0===i?void 0:i.name})}),Object(x.jsx)(o.H,{children:"Cirkl Admin"}),Object(x.jsx)(o.H,{size:"small",children:null===i||void 0===i?void 0:i.name})]}),Object(x.jsxs)(o.g,{children:[Object(x.jsx)(o.s,{id:"main-list",children:C.map((function(t,n){return Object(x.jsx)(o.v,{autoHide:!1,children:Object(x.jsxs)(o.o,{className:e.pathname===t.url?"selected":"",routerLink:t.url,routerDirection:"none",lines:"none",detail:!1,children:[Object(x.jsx)(o.l,{slot:"start",ios:t.iosIcon,md:t.mdIcon}),Object(x.jsx)(o.r,{children:t.title})]})},n)}))}),Object(x.jsxs)(o.s,{id:"settings-list",children:[D.map((function(t,n){return Object(x.jsx)(o.v,{autoHide:!1,children:Object(x.jsxs)(o.o,{className:e.pathname===t.url?"selected":"",routerLink:t.url,routerDirection:"none",lines:"none",detail:!1,children:[Object(x.jsx)(o.l,{slot:"start",ios:t.iosIcon,md:t.mdIcon}),Object(x.jsx)(o.r,{children:t.title})]})},n)})),s]}),Object(x.jsx)(v,{className:"app-version"})]})]})},k=function(e){var t=e.children;return Object(x.jsxs)(o.F,{contentId:"main",children:[Object(x.jsx)(w,{}),Object(x.jsx)(o.A,{id:"main",children:t})]})};!function(e){e.Draft="Draft",e.Active="Active",e.Paused="Paused",e.Completed="Completed",e.Cancelled="Cancelled"}(u||(u={}));var I,A=n(1),y="APP_UPDATED",S={appUpdated:!1},N=Object(A.a)({},y,(function(e,t){return Object(d.a)(Object(d.a)({},e),{},{appUpdated:!0})})),H="GET_CAMPAIGNS",P="GET_CAMPAIGNS_SUCCESS",E="GET_CAMPAIGNS_FAILURE",U="ADD_CAMPAIGN",L="ADD_CAMPAIGN_SUCCESS",T="ADD_CAMPAIGN_FAILURE",M=function(e){return{type:P,payload:e}},_={loading:!1,loaded:!1},F=(I={},Object(A.a)(I,H,(function(e,t){return Object(d.a)(Object(d.a)({},e),{},{error:void 0,loading:!0})})),Object(A.a)(I,P,(function(e,t){return Object(d.a)(Object(d.a)({},e),{},{loading:!1,loaded:!0,campaigns:t.payload})})),Object(A.a)(I,E,(function(e,t){return Object(d.a)(Object(d.a)({},e),{},{loading:!1,loaded:!1,error:t.payload})})),Object(A.a)(I,U,(function(e,t){return Object(d.a)(Object(d.a)({},e),{},{error:void 0,loading:!0})})),Object(A.a)(I,L,(function(e,t){var n=e.campaigns||[];return t.payload&&n.push(t.payload),Object(d.a)(Object(d.a)({},e),{},{loading:!1,loaded:!0,campaigns:n})})),Object(A.a)(I,T,(function(e,t){return Object(d.a)(Object(d.a)({},e),{},{loading:!1,loaded:!1,error:t.payload})})),I),z={},B=Object(c.createContext)({state:z,dispatch:function(){return null}}),G={app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;return N[t.type]?N[t.type](e,t):e},campaigns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;return F[t.type]?F[t.type](e,t):e}},R=function(e){var t,n=e.children,i=Object(c.useReducer)((t=G,function(e,n){return Object.keys(t).reduce((function(c,i){return Object(d.a)(Object(d.a)({},c),{},Object(A.a)({},i,t[i](e[i],n)))}),e)}),z),s=Object(r.a)(i,2),a=s[0],o=s[1];return Object(x.jsx)(B.Provider,{value:{state:a,dispatch:o},children:n})},W=n(44),q=n(99),J=n(101),Z=n(100),Y=function(e){var t,n=e.campaign,i=(e.error,e.loading,e.onSave),s=Object(c.useContext)(B),a=s.state,j=(s.dispatch,Object(c.useState)(null!==n&&void 0!==n?n:{startDate:Date.now(),endDate:Date.now()})),l=Object(r.a)(j,2),b=l[0],O=l[1],u=b.id?Object(x.jsxs)(o.o,{children:[Object(x.jsx)(o.r,{position:"floating",children:"ID"}),Object(x.jsx)(o.n,{readonly:!0,value:b.id})]}):null;b.name&&"".concat(b.name," Campaign");return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(o.s,{children:[u,Object(x.jsxs)(o.o,{children:[Object(x.jsx)(o.r,{position:"floating",children:"Name"}),Object(x.jsx)(o.n,{value:b.name})]}),Object(x.jsxs)(o.o,{children:[Object(x.jsx)(o.r,{position:"floating",children:"Description"}),Object(x.jsx)(o.n,{value:b.description})]}),Object(x.jsxs)(o.o,{button:!0,id:"start-date-input",children:[Object(x.jsx)(o.r,{children:"Start Date"}),Object(x.jsx)(o.G,{slot:"end",children:Object(J.a)(b.startDate,"MMM dd yyyy")}),Object(x.jsx)(o.y,{trigger:"start-date-input",showBackdrop:!1,children:Object(x.jsx)(o.h,{presentation:"date",min:Object(Z.a)(Date.now()),max:Object(Z.a)(b.endDate),value:Object(Z.a)(b.startDate),onIonChange:function(e){return t=e.detail.value,void O(Object(d.a)(Object(d.a)({},b),{},{startDate:Object(q.a)(t).valueOf()}));var t}})})]}),Object(x.jsxs)(o.o,{button:!0,id:"end-date-input",children:[Object(x.jsx)(o.r,{children:"End Date"}),Object(x.jsx)(o.G,{slot:"end",children:Object(J.a)(b.endDate,"MMM dd yyyy")}),Object(x.jsx)(o.y,{trigger:"end-date-input",showBackdrop:!1,children:Object(x.jsx)(o.h,{presentation:"date",min:Object(Z.a)(b.startDate),value:Object(Z.a)(b.endDate),onIonChange:function(e){return t=e.detail.value,void O(Object(d.a)(Object(d.a)({},b),{},{endDate:Object(q.a)(t).valueOf()}));var t}})})]})]}),Object(x.jsx)(o.d,{className:"ion-padding",onClick:function(){return i(b)},disabled:null===(t=a.campaigns)||void 0===t?void 0:t.loading,children:"Save"})]})},V=["campaign","onDismiss"],X=function(e){var t=e.campaign,n=e.onDismiss,i=Object(W.a)(e,V),s=Object(c.useContext)(B),a=(s.state,s.dispatch,Object(c.useState)(null!==t&&void 0!==t?t:{startDate:Date.now(),endDate:Date.now()})),j=Object(r.a)(a,2),l=j[0],b=(j[1],l.id&&(o.o,o.r,o.n,l.id),l.name?"".concat(l.name," Campaign"):"New Campaign");return Object(x.jsxs)("div",{children:[Object(x.jsx)(o.k,{children:Object(x.jsxs)(o.I,{children:[Object(x.jsx)(o.H,{children:b}),Object(x.jsx)(o.e,{slot:"end",children:Object(x.jsx)(o.d,{onClick:n,children:"Close"})})]})}),Object(x.jsx)(o.g,{fullscreen:!0,class:"ion-padding",children:Object(x.jsx)(Y,Object(d.a)({campaign:l},i))})]})},$=function(){var e,t,n,i=Object(c.useContext)(B),s=i.state,a=i.dispatch,j=Object(o.U)(X,{campaign:void 0,onDismiss:function(){b()},onSave:function(e){console.log("handleSave",e),b()}}),l=Object(r.a)(j,2),d=l[0],b=l[1];Object(c.useEffect)((function(){if(!s.campaigns){var e=[{id:"1",name:"Campaign 1",description:"Description 1",startDate:(new Date).getTime(),endDate:(new Date).getTime(),status:u.Active,createdAt:(new Date).toISOString(),events:["1","2"],audience:"Audience 1",components:["1","2"]}];setTimeout((function(){a(M(e))}),5e3)}}),[s.campaigns]);var O=!(null===(e=s.campaigns)||void 0===e?void 0:e.loading)&&(null===(t=s.campaigns)||void 0===t?void 0:t.loaded)?null===(n=s.campaigns.campaigns)||void 0===n?void 0:n.map((function(e){return Object(x.jsxs)(o.o,{routerLink:"/campaigns/".concat(e.id),routerDirection:"none",detail:!0,children:[Object(x.jsxs)(o.r,{children:[Object(x.jsx)("h2",{children:e.name}),Object(x.jsx)("p",{children:e.description})]}),Object(x.jsx)(o.r,{slot:"end",class:"ion-padding-end",children:e.status})]},e.id)})):Array.from(Array(20).keys()).map((function(e){return Object(x.jsxs)(o.o,{children:[Object(x.jsxs)(o.r,{children:[Object(x.jsx)("h2",{children:Object(x.jsx)(o.C,{animated:!0,style:{width:"30%"}})}),Object(x.jsx)("p",{children:Object(x.jsx)(o.C,{animated:!0,style:{width:"60%"}})})]}),Object(x.jsx)(o.r,{slot:"end",class:"ion-padding-end",children:Object(x.jsx)(o.C,{animated:!0,style:{width:"50px"}})})]},e)}));return Object(x.jsxs)(o.x,{children:[Object(x.jsx)(o.k,{children:Object(x.jsxs)(o.I,{children:[Object(x.jsx)(o.e,{slot:"start",children:Object(x.jsx)(o.u,{})}),Object(x.jsx)(o.H,{children:"Campaigns"})]})}),Object(x.jsxs)(o.g,{fullscreen:!0,children:[Object(x.jsx)(o.k,{collapse:"condense",children:Object(x.jsx)(o.I,{children:Object(x.jsx)(o.H,{size:"large",children:"Campaigns"})})}),Object(x.jsx)(o.s,{children:O}),Object(x.jsx)(o.i,{vertical:"bottom",horizontal:"end",slot:"fixed",onClick:function(){d()},children:Object(x.jsx)(o.j,{children:Object(x.jsx)(o.l,{icon:h.a})})})]})]})},K=function(){Object(l.f)().name;return Object(x.jsxs)(o.x,{children:[Object(x.jsx)(o.k,{children:Object(x.jsxs)(o.I,{children:[Object(x.jsx)(o.e,{slot:"start",children:Object(x.jsx)(o.u,{})}),Object(x.jsx)(o.H,{children:"Dashboard"})]})}),Object(x.jsxs)(o.g,{fullscreen:!0,children:[Object(x.jsx)(o.k,{collapse:"condense",children:Object(x.jsx)(o.I,{children:Object(x.jsx)(o.H,{size:"large",children:"Dashboard"})})}),"Dashboard Page Content"]})]})},Q=function(){Object(l.f)().name;var e=Object(o.T)(),t=Object(r.a)(e,1)[0];return Object(x.jsxs)(o.x,{children:[Object(x.jsx)(o.k,{children:Object(x.jsxs)(o.I,{children:[Object(x.jsx)(o.e,{slot:"start",children:Object(x.jsx)(o.u,{})}),Object(x.jsx)(o.H,{children:"Settings"})]})}),Object(x.jsxs)(o.g,{fullscreen:!0,className:"ion-padding",children:[Object(x.jsx)(o.k,{collapse:"condense",children:Object(x.jsx)(o.I,{children:Object(x.jsx)(o.H,{size:"large",children:"Settings"})})}),Object(x.jsxs)(o.q,{children:[Object(x.jsx)(o.p,{children:Object(x.jsx)(o.r,{children:"Application"})}),Object(x.jsxs)(o.o,{children:[Object(x.jsx)(o.r,{children:"Name"}),Object(x.jsx)(o.n,{})]}),Object(x.jsxs)(o.o,{children:[Object(x.jsx)(o.r,{children:"Client ID"}),Object(x.jsx)(o.n,{readonly:!0,value:"478a1cfa-b85d-495e-bf49-bd6c4ffc0cea"})]}),Object(x.jsx)(o.o,{children:Object(x.jsx)(o.d,{expand:"block",children:"Save Changes"})})]}),Object(x.jsxs)(o.q,{children:[Object(x.jsx)(o.p,{children:Object(x.jsx)(o.r,{children:"Danger Zone"})}),Object(x.jsxs)(o.o,{color:"warning",children:[Object(x.jsxs)(o.r,{className:"ion-text-wrap",children:[Object(x.jsx)("h3",{children:"Rotate secret"}),Object(x.jsx)("p",{children:"All authorized apps will need to be updated with the new client secret."})]}),Object(x.jsx)(o.d,{color:"danger",slot:"end",onClick:function(){return t({cssClass:"my-css",header:"Alert",message:"alert from hook",buttons:["Cancel",{text:"Ok",handler:function(e){return console.log("ok pressed")}}],onDidDismiss:function(e){return console.log("did dismiss")}})},children:"Rotate"})]})]})]})]})},ee=function(e){var t=e.skip;return Object(x.jsxs)(x.Fragment,{children:["Content",Object(x.jsx)(o.B,{class:"ion-padding",children:Object(x.jsx)(o.f,{"col-12":!0,class:"ion-text-center",children:"Intro Page Content"})}),Object(x.jsx)(o.B,{class:"ion-padding",children:Object(x.jsx)(o.f,{"col-12":!0,class:"ion-text-center",children:Object(x.jsx)(o.m,{src:"".concat("/admin-app-public","/assets/icons/icon-192x192.png")})})}),Object(x.jsx)(o.B,{class:"ion-padding",children:Object(x.jsx)(o.f,{"col-12":!0,class:"ion-text-center",children:Object(x.jsx)(o.d,{fill:"clear",routerLink:"/",routerDirection:"none",onClick:t,children:"Home"})})})]})},te=(n(81),function(e){var t=e.skip,n=[{icon:void 0,title:"Feature Title",text:"Text"}].map((function(e){return Object(x.jsxs)(o.D,{children:[Object(x.jsx)(o.l,{name:e.icon}),Object(x.jsx)("h4",{children:e.title}),Object(x.jsx)("p",{children:e.text})]})}));return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(o.g,{class:"ion-padding",children:Object(x.jsxs)(o.E,{pager:!0,children:[Object(x.jsxs)(o.D,{children:[Object(x.jsx)(o.m,{src:"".concat("/admin-app-public","/assets/icons/icon-192x192.png")}),Object(x.jsx)("h4",{children:"Cirkl"}),Object(x.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. "})]}),n,Object(x.jsxs)(o.D,{children:[Object(x.jsx)(o.m,{src:"".concat("/admin-app-public","/assets/icons/icon-192x192.png")}),Object(x.jsx)("h4",{children:"Lorem ipsum 3"}),Object(x.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. "}),Object(x.jsx)(o.B,{class:"ion-padding",children:Object(x.jsx)(o.f,{"col-12":!0,children:Object(x.jsx)(o.d,{fill:"clear",routerLink:"/",onClick:t,children:"Home"})})})]})]})}),Object(x.jsx)(o.i,{vertical:"top",horizontal:"end",slot:"fixed",children:Object(x.jsx)(o.d,{fill:"clear",routerLink:"/",routerDirection:"none",onClick:t,children:"Skip"})})]})}),ne=function(){Object(l.f)().name;var e=Object(o.R)("mobile")||Object(o.R)("mobileweb"),t=O("introDisplayed",!1),n=Object(r.a)(t,2),c=(n[0],n[1]),i=function(){c(!0)};return Object(x.jsx)(o.g,{class:"ion-padding",children:e?Object(x.jsx)(te,{skip:i}):Object(x.jsx)(ee,{skip:i})})},ce=["component"],ie=function(e){var t=e.component,n=Object(W.a)(e,ce),c=Object(b.b)().isAuthenticated,i=t;return Object(x.jsx)(l.b,Object(d.a)(Object(d.a)({},n),{},{render:function(e){return c?Object(x.jsx)(i,Object(d.a)(Object(d.a)({},n),e)):Object(x.jsx)(l.a,{to:"/"})}}))},se=(n(82),n(83),n(84),n(85),n(86),n(87),n(88),n(89),n(90),n(91),n(92),function(){Object(l.f)().name;return Object(x.jsxs)(o.x,{children:[Object(x.jsx)(o.k,{children:Object(x.jsxs)(o.I,{children:[Object(x.jsx)(o.e,{slot:"start",children:Object(x.jsx)(o.u,{})}),Object(x.jsx)(o.H,{children:"Audience"})]})}),Object(x.jsxs)(o.g,{fullscreen:!0,children:[Object(x.jsx)(o.k,{collapse:"condense",children:Object(x.jsx)(o.I,{children:Object(x.jsx)(o.H,{size:"large",children:"Audience"})})}),"Audience Page Content"]})]})}),ae=function(){Object(l.f)().name;return Object(x.jsxs)(o.x,{children:[Object(x.jsx)(o.k,{children:Object(x.jsxs)(o.I,{children:[Object(x.jsx)(o.e,{slot:"start",children:Object(x.jsx)(o.u,{})}),Object(x.jsx)(o.H,{children:"Components"})]})}),Object(x.jsxs)(o.g,{fullscreen:!0,children:[Object(x.jsx)(o.k,{collapse:"condense",children:Object(x.jsx)(o.I,{children:Object(x.jsx)(o.H,{size:"large",children:"Components"})})}),"Components Page Content"]})]})},re=function(){Object(l.f)().name;return Object(x.jsxs)(o.x,{children:[Object(x.jsx)(o.k,{children:Object(x.jsxs)(o.I,{children:[Object(x.jsx)(o.e,{slot:"start",children:Object(x.jsx)(o.u,{})}),Object(x.jsx)(o.H,{children:"Integrations"})]})}),Object(x.jsxs)(o.g,{fullscreen:!0,children:[Object(x.jsx)(o.k,{collapse:"condense",children:Object(x.jsx)(o.I,{children:Object(x.jsx)(o.H,{size:"large",children:"Integrations"})})}),"Integrations Page Content"]})]})},oe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function je(e){if("serviceWorker"in navigator){if(new URL("/admin-app-public",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){console.log("Registering service worker...");var t="".concat("/admin-app-public","/service-worker.js");oe?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):le(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):le(t,e)}))}}function le(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var de=function(e){var t=e.match,n=Object(c.useContext)(B),i=n.state,s=n.dispatch,a=Object(c.useState)(),j=Object(r.a)(a,2),l=j[0],d=j[1],b=Object(o.U)(X,{campaign:void 0,onDismiss:function(){h()},onSave:p}),O=Object(r.a)(b,2),h=(O[0],O[1]);function p(e){console.log("handleSave",e),h()}return Object(c.useEffect)((function(){if(i.campaigns&&i.campaigns.loaded){var e,n,c=null===(e=i.campaigns)||void 0===e||null===(n=e.campaigns)||void 0===n?void 0:n.find((function(e){return e.id===t.params.id}));d(c)}else{var a=[{id:"1",name:"Campaign 1",description:"Description 1",startDate:(new Date).getTime(),endDate:(new Date).getTime(),status:u.Active,createdAt:(new Date).toISOString(),events:["1","2"],audience:"Audience 1",components:["1","2"]}];setTimeout((function(){s(M(a))}),5e3)}}),[i.campaigns]),Object(x.jsxs)(o.x,{children:[Object(x.jsx)(o.k,{children:Object(x.jsxs)(o.I,{children:[Object(x.jsx)(o.e,{slot:"start",children:Object(x.jsx)(o.c,{defaultHref:"/campaigns/"})}),Object(x.jsx)(o.H,{children:"Campaign: ".concat(null===l||void 0===l?void 0:l.name)})]})}),Object(x.jsxs)(o.g,{fullscreen:!0,children:[Object(x.jsx)(o.k,{collapse:"condense",children:Object(x.jsx)(o.I,{children:Object(x.jsx)(o.H,{size:"large",children:"Campaign: ".concat(null===l||void 0===l?void 0:l.name)})})}),Object(x.jsx)(Y,{campaign:l,onSave:p})]})]})};Object(o.S)();var be=function(){var e,t=Object(b.b)().isLoading,n=Object(c.useContext)(B).dispatch,i=Object(o.V)(),s=Object(r.a)(i,1)[0];Object(c.useEffect)((function(){je({onUpdate:function(e){n({type:y}),s({header:"Update",message:"Update is available. Please Close all tabs and reload.",buttons:[{text:"Update",handler:function(){window.location.reload()}}]})}})}));var a=Object(x.jsx)("div",{className:"pulse-wrapper",children:Object(x.jsx)("img",{className:"pulse full-screen",src:"".concat("/admin-app-public","/assets/icons/icon-192x192.png")})}),d=Object(x.jsx)(j.a,{basename:null!==(e="/admin-app-public")?e:"/",children:Object(x.jsxs)(o.A,{children:[Object(x.jsx)(f,{path:"/",exact:!0}),Object(x.jsx)(l.b,{path:"/intro",exact:!0,children:Object(x.jsx)(ne,{})}),Object(x.jsxs)(k,{children:[Object(x.jsx)(ie,{path:"/dashboard",exact:!0,children:Object(x.jsx)(K,{})}),Object(x.jsx)(ie,{path:"/settings",exact:!0,children:Object(x.jsx)(Q,{})}),Object(x.jsx)(ie,{path:"/campaigns",exact:!0,children:Object(x.jsx)($,{})}),Object(x.jsx)(ie,{path:"/campaigns/:id",exact:!0,component:de}),Object(x.jsx)(ie,{path:"/audience",exact:!0,component:se}),Object(x.jsx)(ie,{path:"/components",exact:!0,children:Object(x.jsx)(ae,{})}),Object(x.jsx)(ie,{path:"/integrations",exact:!0,children:Object(x.jsx)(re,{})})]})]})});return Object(x.jsx)(o.a,{children:Object(x.jsx)(R,{children:t?a:d})})},Oe=function(e){e&&e instanceof Function&&n.e(14).then(n.bind(null,110)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),i(e),s(e),a(e)}))};a.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(b.a,{domain:"dev-4h5aicvo.us.auth0.com",clientId:"qobdEwhRAJh9Nb1ZXxMYnZ7kfbY4CtGw",redirectUri:window.location.href,children:Object(x.jsx)(be,{})})}),document.getElementById("root")),Oe()}},[[93,2,3]]]);
//# sourceMappingURL=main.c630c357.chunk.js.map